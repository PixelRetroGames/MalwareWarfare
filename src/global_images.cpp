#include "global_images.h"

bool MENU_IMAGES_LOADED=false;
Texture *MENU_OPTION_BACKGROUND,*MENU_OPTION_COOLING,*MENU_OPTION_LOCKED,*MENU_BACKGROUND_DEFENDER,*MENU_BACKGROUND_ATTACKER;
TTF_Font *MENU_FONT_BIG,*MENU_FONT_SMALL,*MENU_FONT_MEDIUM;
Texture *MENU_CONTROLLER_KEYS[4];
Texture *DEFENDER_UNIT_SELECTOR;

char *PATH_TO_CONTROLLER_KEYS_IMAGES[]={"res/images/controllerA.png","res/images/controllerB.png","res/images/controllerX.png","res/images/controllerY.png"};

void Load_menu_images()
{
 if(MENU_IMAGES_LOADED)
    return;
 MENU_OPTION_BACKGROUND=Load_Transparent_Texture("res/images/menu_option_background.png");
 MENU_OPTION_COOLING=Load_Transparent_Texture("res/images/menu_option_cooling.png");
 MENU_OPTION_LOCKED=Load_Transparent_Texture("res/images/menu_option_locked.png");
 MENU_BACKGROUND_DEFENDER=Load_Transparent_Texture("res/images/menu_background_def.png");
 MENU_BACKGROUND_ATTACKER=Load_Transparent_Texture("res/images/menu_background_atk.png");
 MENU_FONT_BIG=TTF_OpenFont("res/fonts/Prototype.ttf",35);
 MENU_FONT_SMALL=TTF_OpenFont("res/fonts/Prototype.ttf",15);
 MENU_FONT_MEDIUM=TTF_OpenFont("res/fonts/Prototype.ttf",20);
 for(int i=0;i<4;i++)
     MENU_CONTROLLER_KEYS[i]=Load_Transparent_Texture(PATH_TO_CONTROLLER_KEYS_IMAGES[i]);
 DEFENDER_UNIT_SELECTOR=Load_Transparent_Texture("res/images/defender_unit_selector.png");
 MENU_IMAGES_LOADED=true;
}

void Clear_menu_images()
{
 if(!MENU_IMAGES_LOADED)
    return;
 Destroy_Texture(MENU_OPTION_BACKGROUND);
 Destroy_Texture(MENU_OPTION_COOLING);
 Destroy_Texture(MENU_OPTION_LOCKED);
 Destroy_Texture(MENU_BACKGROUND_DEFENDER);
 Destroy_Texture(MENU_BACKGROUND_ATTACKER);
 TTF_CloseFont(MENU_FONT_BIG);
 TTF_CloseFont(MENU_FONT_SMALL);
 TTF_CloseFont(MENU_FONT_MEDIUM);
 for(int i=0;i<4;i++)
     Destroy_Texture(MENU_CONTROLLER_KEYS[i]);
 Destroy_Texture(DEFENDER_UNIT_SELECTOR);
 MENU_IMAGES_LOADED=false;
}

bool LEVEL_IMAGES_LOADED=false;
Texture *LEVEL_BACKGROUND,*ATTACKER_CURSOR,*DEFENDER_CURSOR,*PLAYER_HP_IMAGE,*GAME_TIME_BACKGROUND;
Base_Effect_Animation *LEVEL_ELECTROSHOCK_VERTICAL,*LEVEL_ELECTROSHOCK_HORIZONTAL,*LEVEL_EXPLOSION[4],*LEVEL_DAMAGE;
Base_Effect_Animation *LEVEL_ELECTROSHOCK_SHIELDED_VERTICAL,*LEVEL_ELECTROSHOCK_SHIELDED_HORIZONTAL;
Base_Effect_Animation *VIRUS_PROTECTED_EFFECT;
//Texture *ARENA_COLORS[4];
Texture *DEFENDER_AVAILABLE_TILE;
Base_Effect_Animation *FIREWALL_ATTACK_PERPENDICULAR_EFFECT[4],*FIREWALL_ATTACK_OBLIQUE_EFFECT[4];
Base_Effect_Animation *CPU_DAMAGE_EFFECT,*CPU_EXPLOSION_EFFECT,*SLOW_TOWER_ATTACK_EFFECT;
Unit_animation_global UNIT_STUNNED_ANIMATION;
Texture *MENU_COOLDOWN_ICON,*MENU_HEALTH_ICON,*MENU_DAMAGE_ICON;

void Load_level_images()
{
 if(LEVEL_IMAGES_LOADED)
    return;
 LEVEL_BACKGROUND=Load_Transparent_Texture("res/images/background.png");
 ATTACKER_CURSOR=Load_Transparent_Texture("res/images/attacker_cursor.png");
 DEFENDER_CURSOR=Load_Transparent_Texture("res/images/defender_cursor.png");
 PLAYER_HP_IMAGE=Load_Transparent_Texture("res/images/hp.png");
 GAME_TIME_BACKGROUND=Load_Transparent_Texture("res/images/timer.png");
 LEVEL_ELECTROSHOCK_HORIZONTAL=new Base_Effect_Animation;
 LEVEL_ELECTROSHOCK_HORIZONTAL->Load("res/effects/electroshock_horizontal.eff");
 LEVEL_ELECTROSHOCK_VERTICAL=new Base_Effect_Animation;
 LEVEL_ELECTROSHOCK_VERTICAL->Load("res/effects/electroshock_vertical.eff");
 LEVEL_ELECTROSHOCK_SHIELDED_HORIZONTAL=new Base_Effect_Animation;
 LEVEL_ELECTROSHOCK_SHIELDED_HORIZONTAL->Load("res/effects/electroshock_shielded_horizontal.eff");
 LEVEL_ELECTROSHOCK_SHIELDED_VERTICAL=new Base_Effect_Animation;
 LEVEL_ELECTROSHOCK_SHIELDED_VERTICAL->Load("res/effects/electroshock_shielded_vertical.eff");
 LEVEL_EXPLOSION[0]=new Base_Effect_Animation;
 LEVEL_EXPLOSION[0]->Load("res/effects/explosionR.eff");
 LEVEL_EXPLOSION[1]=new Base_Effect_Animation;
 LEVEL_EXPLOSION[1]->Load("res/effects/explosionD.eff");
 LEVEL_EXPLOSION[2]=new Base_Effect_Animation;
 LEVEL_EXPLOSION[2]->Load("res/effects/explosionL.eff");
 LEVEL_EXPLOSION[3]=new Base_Effect_Animation;
 LEVEL_EXPLOSION[3]->Load("res/effects/explosionU.eff");
 LEVEL_DAMAGE=new Base_Effect_Animation;
 LEVEL_DAMAGE->Load("res/effects/damage_flash.eff");
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[0]=new Base_Effect_Animation;
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[0]->Load("res/effects/firewall_attack_perpendicular_0.eff");
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[1]=new Base_Effect_Animation;
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[1]->Load("res/effects/firewall_attack_perpendicular_1.eff");
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[2]=new Base_Effect_Animation;
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[2]->Load("res/effects/firewall_attack_perpendicular_2.eff");
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[3]=new Base_Effect_Animation;
 FIREWALL_ATTACK_PERPENDICULAR_EFFECT[3]->Load("res/effects/firewall_attack_perpendicular_3.eff");
 FIREWALL_ATTACK_OBLIQUE_EFFECT[0]=new Base_Effect_Animation;
 FIREWALL_ATTACK_OBLIQUE_EFFECT[0]->Load("res/effects/firewall_attack_oblique_0.eff");
 FIREWALL_ATTACK_OBLIQUE_EFFECT[1]=new Base_Effect_Animation;
 FIREWALL_ATTACK_OBLIQUE_EFFECT[1]->Load("res/effects/firewall_attack_oblique_1.eff");
 FIREWALL_ATTACK_OBLIQUE_EFFECT[2]=new Base_Effect_Animation;
 FIREWALL_ATTACK_OBLIQUE_EFFECT[2]->Load("res/effects/firewall_attack_oblique_2.eff");
 FIREWALL_ATTACK_OBLIQUE_EFFECT[3]=new Base_Effect_Animation;
 FIREWALL_ATTACK_OBLIQUE_EFFECT[3]->Load("res/effects/firewall_attack_oblique_3.eff");
 CPU_DAMAGE_EFFECT=new Base_Effect_Animation;
 CPU_DAMAGE_EFFECT->Load("res/effects/CPU_damage.eff");
 CPU_EXPLOSION_EFFECT=new Base_Effect_Animation;
 CPU_EXPLOSION_EFFECT->Load("res/effects/CPU_explosion.eff");
 SLOW_TOWER_ATTACK_EFFECT=new Base_Effect_Animation;
 SLOW_TOWER_ATTACK_EFFECT->Load("res/effects/slow_attack.eff");
 UNIT_STUNNED_ANIMATION.Load("res/effects/images/stunned.png");
 //ARENA_COLORS[0]=Load_Transparent_Texture("res/images/arena_color_1.png");
 //ARENA_COLORS[1]=Load_Transparent_Texture("res/images/arena_color_2.png");
 DEFENDER_AVAILABLE_TILE=Load_Transparent_Texture("res/images/available_tile.png");
 MENU_COOLDOWN_ICON=Load_Transparent_Texture("res/images/cooldown_icon.png");
 MENU_HEALTH_ICON=Load_Transparent_Texture("res/images/health_icon.png");
 MENU_DAMAGE_ICON=Load_Transparent_Texture("res/images/damage_icon.png");
 LEVEL_IMAGES_LOADED=true;
}

void Clear_level_images()
{
 if(!LEVEL_IMAGES_LOADED)
    return;
 Destroy_Texture(LEVEL_BACKGROUND);
 Destroy_Texture(ATTACKER_CURSOR);
 Destroy_Texture(DEFENDER_CURSOR);
 Destroy_Texture(PLAYER_HP_IMAGE);
 LEVEL_ELECTROSHOCK_HORIZONTAL->Clear();
 delete LEVEL_ELECTROSHOCK_HORIZONTAL;
 LEVEL_ELECTROSHOCK_VERTICAL->Clear();
 delete LEVEL_ELECTROSHOCK_VERTICAL;
 LEVEL_ELECTROSHOCK_SHIELDED_HORIZONTAL->Clear();
 delete LEVEL_ELECTROSHOCK_SHIELDED_HORIZONTAL;
 LEVEL_ELECTROSHOCK_SHIELDED_VERTICAL->Clear();
 delete LEVEL_ELECTROSHOCK_SHIELDED_VERTICAL;
 LEVEL_DAMAGE->Clear();
 delete LEVEL_DAMAGE;
 for(int i=0;i<4;i++)
     {
      LEVEL_EXPLOSION[i]->Clear();
      delete LEVEL_EXPLOSION[i];

      FIREWALL_ATTACK_PERPENDICULAR_EFFECT[i]->Clear();
      delete FIREWALL_ATTACK_PERPENDICULAR_EFFECT[i];

      FIREWALL_ATTACK_OBLIQUE_EFFECT[i]->Clear();
      delete FIREWALL_ATTACK_OBLIQUE_EFFECT[i];
     }
 CPU_DAMAGE_EFFECT->Clear();
 delete CPU_DAMAGE_EFFECT;
 CPU_EXPLOSION_EFFECT->Clear();
 delete CPU_EXPLOSION_EFFECT;
 SLOW_TOWER_ATTACK_EFFECT->Clear();
 delete SLOW_TOWER_ATTACK_EFFECT;
 UNIT_STUNNED_ANIMATION.Clear();
 //Destroy_Texture(ARENA_COLORS[0]);
 //Destroy_Texture(ARENA_COLORS[1]);
 Destroy_Texture(DEFENDER_AVAILABLE_TILE);
 Destroy_Texture(MENU_COOLDOWN_ICON);
 Destroy_Texture(MENU_HEALTH_ICON);
 Destroy_Texture(MENU_DAMAGE_ICON);
 LEVEL_IMAGES_LOADED=false;
}

///MAIN_MENU
bool MAIN_MENU_IMAGES_LOADED=false;
Texture *MAIN_MENU_background,*MAIN_MENU_background_click,*MAIN_MENU_background_selected;

void Load_main_menu_images()
{
 if(MAIN_MENU_IMAGES_LOADED)
    return;
 MAIN_MENU_background=Load_Transparent_Texture("res/images/menu_background.png");
 MAIN_MENU_background_click=Load_Transparent_Texture("res/images/menu_background_click.png");
 MAIN_MENU_background_selected=Load_Transparent_Texture("res/images/menu_background_selected.png");
}

void Clear_main_menu_images()
{
 if(!MAIN_MENU_IMAGES_LOADED)
    return;
 Destroy_Texture(MAIN_MENU_background);
 Destroy_Texture(MAIN_MENU_background_click);
 Destroy_Texture(MAIN_MENU_background_selected);
 MAIN_MENU_IMAGES_LOADED=false;
}

///SETTINGS
Texture *SETTINGS_option_background_invalid,*SETTINGS_option_background,*SETTINGS_option_background_selected,*SETTINGS_background,*SETTINGS_name;
bool SETTINGS_IMAGES_LOADED=false;

void Load_settings_images()
{
 if(SETTINGS_IMAGES_LOADED)
    return;
 SETTINGS_IMAGES_LOADED=true;
 SETTINGS_option_background_invalid=Load_Texture("res/images/settings/option_background_invalid.png");
 SETTINGS_option_background=Load_Texture("res/images/settings/option_background.png");
 SETTINGS_option_background_selected=Load_Texture("res/images/settings/option_background_selected.png");
 SETTINGS_background=Load_Texture("res/images/background.png");
 TTF_Font *font=TTF_OpenFont("res/fonts/Prototype.ttf",40);
 SETTINGS_name=Create_TTF_Texture(font,"Settings",SDL_Color{255,255,255});
 TTF_CloseFont(font);
}

void Clear_settings_images()
{
 if(!SETTINGS_IMAGES_LOADED)
    return;
 Destroy_Texture(SETTINGS_option_background_invalid);
 Destroy_Texture(SETTINGS_option_background);
 Destroy_Texture(SETTINGS_option_background_selected);
 Destroy_Texture(SETTINGS_background);
 Destroy_Texture(SETTINGS_name);
 SETTINGS_IMAGES_LOADED=false;
}
